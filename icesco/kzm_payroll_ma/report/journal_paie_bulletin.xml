<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="bulletin_report_reports_rh_paperformat" model="report.paperformat">
            <field name="name">Reports RH paperformat</field>
            <field name="default" eval="True"/>
            <field name="format">custom</field>
            <field name="page_height">297</field>
            <field name="page_width">210</field>
            <field name="orientation">Landscape</field>
            <field name="margin_top">10</field>
            <field name="margin_bottom">0</field>
            <field name="margin_left">5</field>
            <field name="margin_right">5</field>
            <field name="header_line" eval="False"/>
            <field name="header_spacing">35</field>
            <field name="dpi">90</field>
        </record>

        <template id="kzm_payroll_ma.journal_paie_bulletin_tmplt_id">
                <t t-call="web.html_container">
                    <t t-foreach="docs"  t-as= "doc">
                        <div class="page article">
                            <xpath expr="." position="inside">
                                <link rel="stylesheet" href="/kzm_hr_etats_paie/static/src/css/etat_paie.css"/>
                            </xpath>
                            <div class="titre_header">
                                <div class="nom_company"><h3><b><span t-field="doc.company_id.name"/></b></h3></div>
                                <div class="titre_report"><h3><b>JOURNAL DE PAIE GENERAL</b></h3></div>
                            </div>
                            <div class="soustitre_header">
                                <h3>Mois: <span t-field="doc.period_id.name"/></h3>
                            </div>
                            <table width="120%" class="tg">
                                <thead>
                                    <tr >
                                    <th style="width:30%;">
                                        <table class="tg" width="100%">
                                          <tr>
                                            <td class="tg-yw4l" colspan="2"><strong>Nom &amp; Prénom</strong></td>
                                          </tr>
                                          <tr>
                                            <td class="tg-yw42"><strong>Matricule</strong></td>
                                            <td class="tg-yw4l"><strong>Fonction</strong></td>
                                          </tr>
                                          <tr>
                                            <td class="tg-yw4l" colspan="2"><strong>Etablissement
                                            </strong></td>
                                          </tr>
                                          <tr>
                                            <td class="tg-yw4l" colspan="2"><strong>Département</strong></td>
                                          </tr>
                                        </table>
                                    </th>
                                    <th style="width:15%">
                                        <table class="tg" width="100%">
                                          <tr>
                                            <td class="tg-yw43" ><strong>Jr. Nr.</strong></td>
                                          </tr>
                                          <tr>
                                            <td class="tg-yw43"><strong>Heures nor.</strong></td>
                                          </tr>
                                          <tr>
                                            <td class="tg-yw43" ><strong>Congés</strong></td>
                                          </tr>
                                          <tr>
                                            <td class="tg-yw43" ><strong>Quantité</strong></td>
                                          </tr>
                                        </table>
                                    </th>
                                    <th style="width:15%">
                                        <table class="tg" width="100%">
                                          <tr>
                                            <td class="tg-yw43" ><strong>Sal. base</strong></td>
                                          </tr>
                                          <tr>
                                            <td class="tg-yw43"><strong>Heures sup.</strong></td>
                                          </tr>
                                          <tr>
                                            <td class="tg-yw43" ><strong>Pr. ancien.</strong></td>
                                          </tr>
                                          <tr>
                                            <td class="tg-yw43" ><strong>Jr. F.</strong></td>
                                          </tr>
                                        </table>
                                    </th>
                                    <th style="width:15%">
                                        <table class="tg" width="100%">
                                          <tr>
                                            <td class="tg-yw43" ><strong>Retenue IR</strong></td>
                                          </tr>
                                          <tr>
                                            <td class="tg-yw43"><strong>Salaire brut</strong></td>
                                          </tr>
                                          <tr>
                                            <td class="tg-yw43" ><strong>Net à payer</strong></td>
                                          </tr>
                                          <tr>
                                            <td class="tg-yw43" ><strong>+Arrondis-</strong></td>
                                          </tr>
                                        </table>
                                    </th>
                                    <th style="width:15%">
                                        <table class="tg" width="100%">
                                            <t t-foreach="doc.list_cotisation()" t-as="cot">
                                                <tr>
                                                    <td class="tg-yw43">
                                                        <strong t-esc="cot.name"/>
                                                    </td>
                                                </tr>
                                                <t t-if="(cot_index+1)%4 == 0">
                                                    &lt;/table&gt;
                                                    &lt;/td class="tg-yw43"&gt;
                                                    &lt;td class="tg-yw43"&gt;
                                                    &lt;table width="100%" class="tg"&gt;
                                                </t>
                                            </t>
                                        </table>
                                    </th>
                                    <th style="width:30%">
                                        <table class="tg" width="100%">
                                            <t t-foreach="doc.list_rubrique()" t-as="rub">

                                                <tr>
                                                    <td class="tg-yw43">
                                                        <strong t-esc="rub.name"/>
                                                    </td>
                                                </tr>
                                                <t t-if="(rub_index+1)%4 == 0">
                                                    &lt;/table&gt;
                                                    &lt;/td lass="tg-yw43"&gt;
                                                    &lt;td lass="tg-yw43"&gt;
                                                    &lt;table width="100%" class="tg"&gt;
                                                </t>
                                            </t>
                                        </table>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
    <!--                                <t t-foreach= "doc"  t-as= "doc">-->
                                    <tr>
                                        <td style="width:30%;text-align:center">
                                            <table class="tg" width="100%">
                                              <tr>
                                                <th class="tg-yw4l" colspan="2"><strong
                                                    t-field="doc.employee_id"/></th>
                                              </tr>
                                              <tr>
                                                <td class="tg-yw42"><strong
                                                    t-field="doc.employee_id.matricule"/></td>
                                                <td class="tg-yw4l"><strong
                                                    t-field="doc.employee_id.job_id"/></td>
                                              </tr>
                                              <tr>
                                                <td class="tg-yw4l" colspan="2"><strong t-field="doc.company_id"/></td>
                                              </tr>
                                              <tr>
                                                <td class="tg-yw4l" colspan="2">
                                                    <strong
                                                        t-field="doc.employee_id.department_id"/></td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td style="width:15%;text-align:center">
                                            <table class="tg" width="100%">
                                              <tr>
                                                <td class="tg-yw43" ><span
                                                    t-field="doc.working_days"/></td>
                                              </tr>
                                              <tr>
                                                <td class="tg-yw43"><span
                                                    t-field="doc.normal_hours"/></td>
                                              </tr>
                                              <tr>
                                                <td class="tg-yw43" ><span
                                                    t-field="doc.period_leave"/></td>
                                              </tr>
                                              <tr>
                                                <td class="tg-yw43" >0.00</td>
                                              </tr>
                                            </table>
                                        </td>
                                        <td style="width:15%;text-align:center">
                                            <table class="tg" width="100%">
                                              <tr>
                                                <td class="tg-yw43" ><span
                                                    t-field="doc.salaire_base"/></td>
                                              </tr>
                                              <tr>
                                                <td class="tg-yw43">0.00</td>
                                              </tr>
                                              <tr>
                                                <td class="tg-yw43" ><span
                                                    t-field="doc.prime_anciennete"/></td>
                                              </tr>
                                              <tr>
                                                <td class="tg-yw43" >0.00</td>
                                              </tr>
                                            </table>
                                        </td>
                                        <td style="width:15%;text-align:center">
                                            <table class="tg" width="100%">
                                              <tr>
                                                <td class="tg-yw43" ><span
                                                    t-field="doc.igr"/></td>
                                              </tr>
                                              <tr>
                                                <td class="tg-yw43"><span
                                                    t-field="doc.salaire_brute"/></td>
                                              </tr>
                                              <tr>
                                                <td class="tg-yw43" ><span
                                                    t-field="doc.salaire_net_a_payer"/></td>
                                              </tr>
                                              <tr>
                                                <td class="tg-yw43" ><span
                                                    t-field="doc.arrondi"/></td>
                                              </tr>
                                            </table>
                                        </td>
                                        <td style="width:15%;text-align:center">
                                            <table class="tg" width="100%">
                                                <t t-foreach="doc.list_cotisation()" t-as="cot">
                                                    <tr>
                                                        <td class="tg-yw43"
                                                            t-esc="doc.compute_montant_cotisation_by_code(cot.code)"/>
                                                    </tr>
                                                    <t t-if="(cot_index+1)%4 == 0">
                                                        &lt;/table&gt;
                                                        &lt;/td class="tg-yw43"&gt;
                                                        &lt;td class="tg-yw43"&gt;
                                                        &lt;table width="100%" class="tg"&gt;
                                                    </t>
                                                </t>
                                            </table>
                                        </td>
                                        <td style="width:5%;text-align:center">
                                            <table class="tg" width="100%">
                                                <t t-foreach="doc.list_rubrique()" t-as="rub">
                                                    <tr>
                                                        <td class="tg-yw43"
                                                            t-esc="doc.compute_montant_rubrique_by_name(rub.name)"/>
                                                    </tr>
                                                    <t t-if="(rub_index+1)%4 == 0">
                                                        &lt;/table&gt;
                                                        &lt;/td lass="tg-yw43"&gt;
                                                        &lt;td lass="tg-yw43"&gt;
                                                        &lt;table width="100%" class="tg"&gt;
                                                    </t>
                                                </t>
                                            </table>
                                        </td>
                                    </tr>
    <!--                                </t>-->
                                    <tr>
                                        <td style="width:35%;">
                                            <table class="tg">
                                                <tr>
                                                    <th colspan="2"/>
                                                    <th colspan="2"
                                                        style="text-align:center"
                                                        rowspan="2"><strong>TOTAUX</strong>
                                                    </th>
                                                    <th colspan="2"/>
                                                </tr>
                                            </table>
                                        </td>
                                        <td>
                                            <table class="tg" width="100%">
                                                <tr>
                                                    <td class="tg-yw43"><strong
                                                        t-esc="doc.id_payroll_ma.compute_total_jr_normal()"/> </td>
                                                </tr>
                                                <tr>
                                                    <td class="tg-yw43"><strong
                                                        t-esc="doc.id_payroll_ma.compute_total_heure_normal()"/></td>
                                                </tr>
                                                <tr>
                                                    <td class="tg-yw43"><strong>0.00</strong></td>
                                                </tr>
                                                <tr>
                                                    <td class="tg-yw43"><strong>0.00</strong></td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td>
                                            <table class="tg" width="100%">
                                                <tr>
                                                    <td class="tg-yw43"><strong
                                                        t-esc="doc.id_payroll_ma.compute_total_salaire_base()"/></td>
                                                </tr>
                                                <tr>
                                                    <td class="tg-yw43"><strong>0.00</strong></td>
                                                </tr>
                                                <tr>
                                                    <td class="tg-yw43"><strong
                                                        t-esc="doc.id_payroll_ma.compute_total_prime_anciennete()"/> </td>
                                                </tr>
                                                <tr>
                                                    <td class="tg-yw43"><strong>0.00</strong></td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td>
                                            <table class="tg" width="100%">
                                                <tr>
                                                    <td class="tg-yw43"><strong
                                                        t-esc="doc.id_payroll_ma.compute_total_igr()"/> </td>
                                                </tr>
                                                <tr>
                                                    <td class="tg-yw43"><strong
                                                        t-esc="doc.id_payroll_ma.compute_total_salaire_brute()"/> </td>
                                                </tr>
                                                <tr>
                                                    <td class="tg-yw43"><strong
                                                        t-esc="doc.id_payroll_ma.compute_total_salaire_net_a_payer()"/></td>
                                                </tr>
                                                <tr>
                                                    <td class="tg-yw43"><strong
                                                        t-esc="doc.id_payroll_ma.compute_total_arrondi()"/> </td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td>
                                            <table class="tg" width="100%">
                                                <t t-foreach="doc.list_cotisation()"
                                                   t-as="cot">
                                                    <tr>

                                                        <td class="tg-yw43">
                                                            <strong
                                                                t-esc="doc.id_payroll_ma.compute_total_cotisation_by_code(cot.code)"/>
                                                        </td>
                                                    </tr>
                                                    <t t-if="(cot_index+1)%4 == 0">
                                                        &lt;/table&gt;
                                                        &lt;/td class="tg-yw43"&gt;
                                                        &lt;td class="tg-yw43"&gt;
                                                        &lt;table width="100%" class="tg"&gt;
                                                    </t>
                                                </t>
                                            </table>
                                        </td>
                                        <td>
                                            <table class="tg" width="100%">
                                                <t t-foreach="doc.list_rubrique()"
                                                   t-as="rub">
                                                    <tr>
                                                        <td class="tg-yw43">
                                                            <strong
                                                                t-esc="doc.id_payroll_ma.compute_total_cotisation_by_code(rub.name)"/>
                                                        </td>
                                                    </tr>
                                                    <t t-if="(rub_index+1)%4 == 0">
                                                        &lt;/table&gt;
                                                        &lt;/td lass="tg-yw43"&gt;
                                                        &lt;td lass="tg-yw43"&gt;
                                                        &lt;table width="100%" class="tg"&gt;
                                                    </t>
                                                </t>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <b><br/>Effectif : <t t-esc="len(doc)"/></b>
                        </div>
                        <div class="footer">
                                <div class="row">
                                    <table style="width:100%">
                                        <tr>
                                            <td style="width:33%">
                                                JOURNAL DE PAIE GENERAL - MOIS : <span
                                                t-field="doc.id_payroll_ma.period_id.name"/>
                                            </td>
                                            <td style="width:34%;text-align:center">
                                                <small>
                                                    <span>Page </span><span class="page" /> sur <span class="topage" />
                                                </small>
                                            </td>
                                            <td style="width:34%;text-align:right;">
                                                Edité le: <t t-esc="time.strftime('%d/%m/%Y %H:%M:%S')"/>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                        </div>
                    </t>
                </t>
        </template>

        <template  id="bulletin_journal_paie" >
        <!--<t  t-call = "report.html_container" >-->
            <!--<t  t-foreach = "docs"  t-as= "o" >-->
                <!--<t  t-call = "hr_payroll_ma_legal_reports.external_layout_hr_reports" >-->
            <t t-call="web.html_container">
<!--                <t t-foreach="docs" t-as="o">-->
                    <t t-call="web.external_layout">
                    <div  class= "page" >
                        <div align="center">
                            <h2><strong>Journal de Paie</strong></h2>
<!--                            <h3>Mois: <span t-field="o.period_id"/></h3>-->
                        </div>
                        <t t-set="total_1" t-value="0"/>
                        <t t-set="total_2" t-value="0"/>
                        <t t-set="total_3" t-value="0"/>
                        <t t-set="total_4" t-value="0"/>
                        <t t-set="total_5" t-value="0"/>
                        <t t-set="total_6" t-value="0"/>
                        <t t-set="total_7" t-value="0"/>
                        <t t-set="total_8" t-value="0"/>
                        <t t-set="total_9" t-value="0"/>
                        <t t-set="total_10" t-value="0"/>
                        <t t-set="total_11" t-value="0"/>
                        <t t-set="total_12" t-value="0"/>
                        <t t-set="total_13" t-value="0"/>
                        <t t-set="total_14" t-value="0"/>
                        <t t-set="total_15" t-value="0"/>
                        <t t-set="total_16" t-value="0"/>
                        <t t-set="total_17" t-value="0"/>
                        <t t-set="total_18" t-value="0"/>
                        <t t-set="total_19" t-value="0"/>
                        <t t-set="total_20" t-value="0"/>
                        <t t-set="total_21" t-value="0"/>
                        <t t-set="total_22" t-value="0"/>
                        <t t-set="total_23" t-value="0"/>
                        <t t-set="total_24" t-value="0"/>

                        <table style="border-collapse: collapse;width:100%" >
                            <tr height="45">
                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><b>Matr</b></td>
                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Nom - Prénom</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Fonction</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Date embauche</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Date naissance</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>N°CNSS</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>NE</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>NCF</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Sal Base</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Ancient</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 0%</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 25%</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 50%</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 100%</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Jrs congés</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Congés payés</b></td>
                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Net à payer</b></td>
                            </tr>
                            <tr height="25">
                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Primes imposables</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev brut global</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev brut impos</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>CNSS</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>CIMR/ASS/AMO</b></td>
                                <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev net impos</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>IGR</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Avances</b></td>
                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Prêt et Ret</b></td>
                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Primes non impos</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Arrondi</b></td>
                            </tr>
                            <t t-foreach= "docs.filtered(lambda re: re.employee_id.matricule).sorted(key=lambda r: r.employee_id.matricule)"  t-as= "b">
                            <tr height="45">
                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.matricule"/></td>
                                <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><span t-field="b.employee_id.prenom"/> <span t-field="b.employee_id.name"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.job_id.name"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.date"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.birthday"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.ssnid"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.children"/><t t-set="total_1" t-value="total_1+b.employee_id.children"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.chargefam"/><t t-set="total_2" t-value="total_2+b.employee_id.chargefam"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_base_mois"/><t t-set="total_3" t-value="total_3+b.salaire_base_mois"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime_anciennete"/><t t-set="total_4" t-value="total_4+b.prime_anciennete"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_25"/><t t-set="total_5" t-value="total_5+b.hsup_25"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_50"/><t t-set="total_6" t-value="total_6+b.hsup_50"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_100"/><t t-set="total_7" t-value="total_7+b.hsup_100"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.jrs_conges"/><t t-set="total_8" t-value="total_8+b.jrs_conges"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.conges_payes"/><t t-set="total_9" t-value="total_9+b.conges_payes"/></td>
                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_a_payer"/><t t-set="total_19" t-value="total_19+b.salaire_net_a_payer"/></td>
                            </tr>
                            <tr height="25">
                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime"/><t t-set="total_10" t-value="total_10+b.prime"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute"/><t t-set="total_11" t-value="total_11+b.salaire_brute"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute_imposable"/><t t-set="total_12" t-value="total_12+b.salaire_brute_imposable"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cnss"/><t t-set="total_13" t-value="total_13+b.cnss"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cimr_assurance_amo"/><t t-set="total_14" t-value="total_14+b.cimr_assurance_amo"/></td>
                                <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_imposable"/><t t-set="total_15" t-value="total_15+b.salaire_net_imposable"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.igr"/><t t-set="total_16" t-value="total_16+b.igr"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.exoneration"/><t t-set="total_17" t-value="total_17+b.exoneration"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.arrondi"/><t t-set="total_18" t-value="total_18+b.arrondi"/></td>

                            </tr>
                            </t>
                            <t t-foreach= "docs.filtered(lambda re: not re.employee_id.matricule)"  t-as= "b">
                            <tr height="45">
                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.matricule"/></td>
                                <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><span t-field="b.employee_id.name"/> <span t-field="b.employee_id.prenom"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.job_id.name"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.date"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.birthday"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.ssnid"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.children"/><t t-set="total_1" t-value="total_1+b.employee_id.children"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.chargefam"/><t t-set="total_2" t-value="total_2+b.employee_id.chargefam"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_base_mois"/><t t-set="total_3" t-value="total_3+b.salaire_base_mois"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime_anciennete"/><t t-set="total_4" t-value="total_4+b.prime_anciennete"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_25"/><t t-set="total_5" t-value="total_5+b.hsup_25"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_50"/><t t-set="total_6" t-value="total_6+b.hsup_50"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_100"/><t t-set="total_7" t-value="total_7+b.hsup_100"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.jrs_conges"/><t t-set="total_8" t-value="total_8+b.jrs_conges"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.conges_payes"/><t t-set="total_9" t-value="total_9+b.conges_payes"/></td>
                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_a_payer"/><t t-set="total_19" t-value="total_19+b.salaire_net_a_payer"/></td>
                            </tr>
                            <tr height="25">
                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime"/><t t-set="total_10" t-value="total_10+b.prime"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute"/><t t-set="total_11" t-value="total_11+b.salaire_brute"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute_imposable"/><t t-set="total_12" t-value="total_12+b.salaire_brute_imposable"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cnss"/><t t-set="total_13" t-value="total_13+b.cnss"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cimr_assurance_amo"/><t t-set="total_14" t-value="total_14+b.cimr_assurance_amo"/></td>
                                <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_imposable"/><t t-set="total_15" t-value="total_15+b.salaire_net_imposable"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.igr"/><t t-set="total_16" t-value="total_16+b.igr"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.exoneration"/><t t-set="total_17" t-value="total_17+b.exoneration"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.arrondi"/><t t-set="total_18" t-value="total_18+b.arrondi"/></td>

                            </tr>
                            </t>
                        <tr height="25">
                            <td colspan="18" style=""></td>
                        </tr>
                        <tr height="45">
                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><b>TOTAL</b></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_1"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_2"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_3"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_4"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_5"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_6"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_7"/></td>
                                 <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_8"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_9"/></td>
                            </tr>
                            <tr height="25">
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_10"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_11"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_12"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_13"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_14"/></td>
                                <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_15"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_16"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_17"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_18"/></td>
                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_19"/></td>
                            </tr>
                         </table>
                   </div>
                  </t>
<!--               </t>-->
            </t>
        </template>

        <record id="journal_paie_bulletin_report_id" model="ir.actions.report">
            <field name="name">Journal de paie</field>
            <field name="model">hr.payroll_ma.bulletin</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">kzm_payroll_ma.bulletin_journal_paie</field>
            <field name="report_file">Journal de paie</field>
            <field name="binding_model_id" ref="model_hr_payroll_ma_bulletin"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="bulletin_report_reports_rh_paperformat"/>
        </record>

        <template  id="bulletin_journal_paie_department" >
        <!--<t  t-call = "report.html_container" >-->
            <!--<t  t-foreach = "docs"  t-as= "o" >-->
                <!--<t  t-call = "hr_payroll_ma_legal_reports.external_layout_hr_reports" >-->
            <t t-call="web.html_container">
<!--                <t t-foreach="docs" t-as="o">-->
                    <t t-call="web.external_layout">
                    <div  class= "page" >
                        <t t-foreach="docs.mapped('employee_id').mapped('department_id')" t-as="department">
                            <t t-if="len(docs.filtered(lambda re: re.employee_id.matricule and re.employee_id.department_id.id == department.id)) > 0">
                            <p style="page-break-after:always;">
                                    <div align="center">
                                        <h2><strong>Journal de Paie</strong></h2>
                                        <h3>Department: <span t-field="department.name"/></h3>
            <!--                            <h3>Mois: <span t-field="o.period_id"/></h3>-->
                                    </div>
                                    <t t-set="total_1" t-value="0"/>
                                    <t t-set="total_2" t-value="0"/>
                                    <t t-set="total_3" t-value="0"/>
                                    <t t-set="total_4" t-value="0"/>
                                    <t t-set="total_5" t-value="0"/>
                                    <t t-set="total_6" t-value="0"/>
                                    <t t-set="total_7" t-value="0"/>
                                    <t t-set="total_8" t-value="0"/>
                                    <t t-set="total_9" t-value="0"/>
                                    <t t-set="total_10" t-value="0"/>
                                    <t t-set="total_11" t-value="0"/>
                                    <t t-set="total_12" t-value="0"/>
                                    <t t-set="total_13" t-value="0"/>
                                    <t t-set="total_14" t-value="0"/>
                                    <t t-set="total_15" t-value="0"/>
                                    <t t-set="total_16" t-value="0"/>
                                    <t t-set="total_17" t-value="0"/>
                                    <t t-set="total_18" t-value="0"/>
                                    <t t-set="total_19" t-value="0"/>
                                    <t t-set="total_20" t-value="0"/>
                                    <t t-set="total_21" t-value="0"/>
                                    <t t-set="total_22" t-value="0"/>
                                    <t t-set="total_23" t-value="0"/>
                                    <t t-set="total_24" t-value="0"/>

                                    <table style="border-collapse: collapse;width:100%" >
                                        <tr height="45">
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><b>Matr</b></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Nom - Prénom</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Fonction</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Date embauche</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Date naissance</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>N°CNSS</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>NE</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>NCF</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Sal Base</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Ancient</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 0%</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 25%</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 50%</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 100%</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Jrs congés</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Congés payés</b></td>
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Net à payer</b></td>
                                        </tr>
                                        <tr height="25">
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Primes imposables</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev brut global</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev brut impos</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>CNSS</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>CIMR/ASS/AMO</b></td>
                                            <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev net impos</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>IGR</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Avances</b></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Prêt et Ret</b></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Primes non impos</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Arrondi</b></td>
                                        </tr>
                                        <t t-foreach= "docs.filtered(lambda re: re.employee_id.matricule and re.employee_id.department_id.id == department.id).sorted(key=lambda r: r.employee_id.matricule)"  t-as= "b">
                                        <tr height="45">
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.matricule"/></td>
                                            <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><span t-field="b.employee_id.prenom"/> <span t-field="b.employee_id.name"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.job_id.name"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.date"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.birthday"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.ssnid"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.children"/><t t-set="total_1" t-value="total_1+b.employee_id.children"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.chargefam"/><t t-set="total_2" t-value="total_2+b.employee_id.chargefam"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_base_mois"/><t t-set="total_3" t-value="total_3+b.salaire_base_mois"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime_anciennete"/><t t-set="total_4" t-value="total_4+b.prime_anciennete"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_25"/><t t-set="total_5" t-value="total_5+b.hsup_25"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_50"/><t t-set="total_6" t-value="total_6+b.hsup_50"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_100"/><t t-set="total_7" t-value="total_7+b.hsup_100"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.jrs_conges"/><t t-set="total_8" t-value="total_8+b.jrs_conges"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.conges_payes"/><t t-set="total_9" t-value="total_9+b.conges_payes"/></td>
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_a_payer"/><t t-set="total_19" t-value="total_19+b.salaire_net_a_payer"/></td>
                                        </tr>
                                        <tr height="25">
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime"/><t t-set="total_10" t-value="total_10+b.prime"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute"/><t t-set="total_11" t-value="total_11+b.salaire_brute"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute_imposable"/><t t-set="total_12" t-value="total_12+b.salaire_brute_imposable"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cnss"/><t t-set="total_13" t-value="total_13+b.cnss"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cimr_assurance_amo"/><t t-set="total_14" t-value="total_14+b.cimr_assurance_amo"/></td>
                                            <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_imposable"/><t t-set="total_15" t-value="total_15+b.salaire_net_imposable"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.igr"/><t t-set="total_16" t-value="total_16+b.igr"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.exoneration"/><t t-set="total_17" t-value="total_17+b.exoneration"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.arrondi"/><t t-set="total_18" t-value="total_18+b.arrondi"/></td>

                                        </tr>
                                        </t>
                                        <t t-foreach= "docs.filtered(lambda re: not re.employee_id.matricule and re.employee_id.department_id.id == department.id)"  t-as= "b">
                                        <tr height="45">
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.matricule"/></td>
                                            <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><span t-field="b.employee_id.name"/> <span t-field="b.employee_id.prenom"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.job_id.name"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.date"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.birthday"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.ssnid"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.children"/><t t-set="total_1" t-value="total_1+b.employee_id.children"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.chargefam"/><t t-set="total_2" t-value="total_2+b.employee_id.chargefam"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_base_mois"/><t t-set="total_3" t-value="total_3+b.salaire_base_mois"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime_anciennete"/><t t-set="total_4" t-value="total_4+b.prime_anciennete"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_25"/><t t-set="total_5" t-value="total_5+b.hsup_25"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_50"/><t t-set="total_6" t-value="total_6+b.hsup_50"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_100"/><t t-set="total_7" t-value="total_7+b.hsup_100"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.jrs_conges"/><t t-set="total_8" t-value="total_8+b.jrs_conges"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.conges_payes"/><t t-set="total_9" t-value="total_9+b.conges_payes"/></td>
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_a_payer"/><t t-set="total_19" t-value="total_19+b.salaire_net_a_payer"/></td>
                                        </tr>
                                        <tr height="25">
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime"/><t t-set="total_10" t-value="total_10+b.prime"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute"/><t t-set="total_11" t-value="total_11+b.salaire_brute"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute_imposable"/><t t-set="total_12" t-value="total_12+b.salaire_brute_imposable"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cnss"/><t t-set="total_13" t-value="total_13+b.cnss"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cimr_assurance_amo"/><t t-set="total_14" t-value="total_14+b.cimr_assurance_amo"/></td>
                                            <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_imposable"/><t t-set="total_15" t-value="total_15+b.salaire_net_imposable"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.igr"/><t t-set="total_16" t-value="total_16+b.igr"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.exoneration"/><t t-set="total_17" t-value="total_17+b.exoneration"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.arrondi"/><t t-set="total_18" t-value="total_18+b.arrondi"/></td>

                                        </tr>
                                        </t>
                                    <tr height="25">
                                        <td colspan="18" style=""></td>
                                    </tr>
                                    <tr height="45">
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><b>TOTAL</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_1"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_2"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_3"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_4"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_5"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_6"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_7"/></td>
                                             <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_8"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_9"/></td>
                                        </tr>
                                        <tr height="25">
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_10"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_11"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_12"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_13"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_14"/></td>
                                            <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_15"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_16"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_17"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_18"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_19"/></td>
                                        </tr>
                                     </table>
                                </p>
                            </t>
                        </t>
                   </div>
                  </t>
<!--               </t>-->
            </t>
        </template>

        <record id="journal_paie_bulletin_report_id_department" model="ir.actions.report">
            <field name="name">Journal de paie par département</field>
            <field name="model">hr.payroll_ma.bulletin</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">kzm_payroll_ma.bulletin_journal_paie_department</field>
            <field name="report_file">Journal de paie</field>
            <field name="binding_model_id" ref="model_hr_payroll_ma_bulletin"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="bulletin_report_reports_rh_paperformat"/>
        </record>

        <template  id="bulletin_journal_paie_periode" >
        <!--<t  t-call = "report.html_container" >-->
            <!--<t  t-foreach = "docs"  t-as= "o" >-->
                <!--<t  t-call = "hr_payroll_ma_legal_reports.external_layout_hr_reports" >-->
            <t t-call="web.html_container">
<!--                <t t-foreach="docs" t-as="o">-->
                    <t t-call="web.external_layout">
                    <div  class= "page" >
                        <t t-foreach="docs.mapped('period_id')" t-as="period">
                            <t t-if="len(docs.filtered(lambda re: re.employee_id.matricule and re.period_id.id == period.id)) > 0">
                            <p style="page-break-after:always;">
                                    <div align="center">
                                        <h2><strong>Journal de Paie</strong></h2>
                                        <h3>Mois: <span t-field="period.name"/></h3>
            <!--                            <h3>Mois: <span t-field="o.period_id"/></h3>-->
                                    </div>
                                    <t t-set="total_1" t-value="0"/>
                                    <t t-set="total_2" t-value="0"/>
                                    <t t-set="total_3" t-value="0"/>
                                    <t t-set="total_4" t-value="0"/>
                                    <t t-set="total_5" t-value="0"/>
                                    <t t-set="total_6" t-value="0"/>
                                    <t t-set="total_7" t-value="0"/>
                                    <t t-set="total_8" t-value="0"/>
                                    <t t-set="total_9" t-value="0"/>
                                    <t t-set="total_10" t-value="0"/>
                                    <t t-set="total_11" t-value="0"/>
                                    <t t-set="total_12" t-value="0"/>
                                    <t t-set="total_13" t-value="0"/>
                                    <t t-set="total_14" t-value="0"/>
                                    <t t-set="total_15" t-value="0"/>
                                    <t t-set="total_16" t-value="0"/>
                                    <t t-set="total_17" t-value="0"/>
                                    <t t-set="total_18" t-value="0"/>
                                    <t t-set="total_19" t-value="0"/>
                                    <t t-set="total_20" t-value="0"/>
                                    <t t-set="total_21" t-value="0"/>
                                    <t t-set="total_22" t-value="0"/>
                                    <t t-set="total_23" t-value="0"/>
                                    <t t-set="total_24" t-value="0"/>

                                    <table style="border-collapse: collapse;width:100%" >
                                        <tr height="45">
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><b>Matr</b></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Nom - Prénom</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Fonction</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Date embauche</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Date naissance</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>N°CNSS</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>NE</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>NCF</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Sal Base</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Ancient</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 0%</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 25%</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 50%</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 100%</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Jrs congés</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Congés payés</b></td>
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Net à payer</b></td>
                                        </tr>
                                        <tr height="25">
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Primes imposables</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev brut global</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev brut impos</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>CNSS</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>CIMR/ASS/AMO</b></td>
                                            <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev net impos</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>IGR</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Avances</b></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Prêt et Ret</b></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Primes non impos</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Arrondi</b></td>
                                        </tr>
                                        <t t-foreach= "docs.filtered(lambda re: re.employee_id.matricule and re.period_id.id == period.id).sorted(key=lambda r: r.employee_id.matricule)"  t-as= "b">
                                        <tr height="45">
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.matricule"/></td>
                                            <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><span t-field="b.employee_id.prenom"/> <span t-field="b.employee_id.name"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.job_id.name"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.date"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.birthday"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.ssnid"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.children"/><t t-set="total_1" t-value="total_1+b.employee_id.children"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.chargefam"/><t t-set="total_2" t-value="total_2+b.employee_id.chargefam"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_base_mois"/><t t-set="total_3" t-value="total_3+b.salaire_base_mois"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime_anciennete"/><t t-set="total_4" t-value="total_4+b.prime_anciennete"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_25"/><t t-set="total_5" t-value="total_5+b.hsup_25"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_50"/><t t-set="total_6" t-value="total_6+b.hsup_50"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_100"/><t t-set="total_7" t-value="total_7+b.hsup_100"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.jrs_conges"/><t t-set="total_8" t-value="total_8+b.jrs_conges"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.conges_payes"/><t t-set="total_9" t-value="total_9+b.conges_payes"/></td>
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_a_payer"/><t t-set="total_19" t-value="total_19+b.salaire_net_a_payer"/></td>
                                        </tr>
                                        <tr height="25">
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime"/><t t-set="total_10" t-value="total_10+b.prime"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute"/><t t-set="total_11" t-value="total_11+b.salaire_brute"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute_imposable"/><t t-set="total_12" t-value="total_12+b.salaire_brute_imposable"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cnss"/><t t-set="total_13" t-value="total_13+b.cnss"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cimr_assurance_amo"/><t t-set="total_14" t-value="total_14+b.cimr_assurance_amo"/></td>
                                            <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_imposable"/><t t-set="total_15" t-value="total_15+b.salaire_net_imposable"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.igr"/><t t-set="total_16" t-value="total_16+b.igr"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.exoneration"/><t t-set="total_17" t-value="total_17+b.exoneration"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.arrondi"/><t t-set="total_18" t-value="total_18+b.arrondi"/></td>

                                        </tr>
                                        </t>
                                        <t t-foreach= "docs.filtered(lambda re: not re.employee_id.matricule and re.period_id.id == period.id)"  t-as= "b">
                                        <tr height="45">
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.matricule"/></td>
                                            <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><span t-field="b.employee_id.name"/> <span t-field="b.employee_id.prenom"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.job_id.name"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.date"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.birthday"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.ssnid"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.children"/><t t-set="total_1" t-value="total_1+b.employee_id.children"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.chargefam"/><t t-set="total_2" t-value="total_2+b.employee_id.chargefam"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_base_mois"/><t t-set="total_3" t-value="total_3+b.salaire_base_mois"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime_anciennete"/><t t-set="total_4" t-value="total_4+b.prime_anciennete"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_25"/><t t-set="total_5" t-value="total_5+b.hsup_25"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_50"/><t t-set="total_6" t-value="total_6+b.hsup_50"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_100"/><t t-set="total_7" t-value="total_7+b.hsup_100"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.jrs_conges"/><t t-set="total_8" t-value="total_8+b.jrs_conges"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.conges_payes"/><t t-set="total_9" t-value="total_9+b.conges_payes"/></td>
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_a_payer"/><t t-set="total_19" t-value="total_19+b.salaire_net_a_payer"/></td>
                                        </tr>
                                        <tr height="25">
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime"/><t t-set="total_10" t-value="total_10+b.prime"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute"/><t t-set="total_11" t-value="total_11+b.salaire_brute"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute_imposable"/><t t-set="total_12" t-value="total_12+b.salaire_brute_imposable"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cnss"/><t t-set="total_13" t-value="total_13+b.cnss"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cimr_assurance_amo"/><t t-set="total_14" t-value="total_14+b.cimr_assurance_amo"/></td>
                                            <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_imposable"/><t t-set="total_15" t-value="total_15+b.salaire_net_imposable"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.igr"/><t t-set="total_16" t-value="total_16+b.igr"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.exoneration"/><t t-set="total_17" t-value="total_17+b.exoneration"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.arrondi"/><t t-set="total_18" t-value="total_18+b.arrondi"/></td>

                                        </tr>
                                        </t>
                                    <tr height="25">
                                        <td colspan="18" style=""></td>
                                    </tr>
                                    <tr height="45">
                                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><b>TOTAL</b></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_1"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_2"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_3"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_4"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_5"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_6"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_7"/></td>
                                             <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_8"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_9"/></td>
                                        </tr>
                                        <tr height="25">
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_10"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_11"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_12"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_13"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_14"/></td>
                                            <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_15"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_16"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_17"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_18"/></td>
                                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_19"/></td>
                                        </tr>
                                     </table>
                                </p>
                            </t>
                        </t>
                   </div>
                  </t>
<!--               </t>-->
            </t>
        </template>

        <record id="journal_paie_bulletin_report_id_periode" model="ir.actions.report">
            <field name="name">Journal de paie par période</field>
            <field name="model">hr.payroll_ma.bulletin</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">kzm_payroll_ma.bulletin_journal_paie_periode</field>
            <field name="report_file">Journal de paie</field>
            <field name="binding_model_id" ref="model_hr_payroll_ma_bulletin"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="bulletin_report_reports_rh_paperformat"/>
        </record>

        <template  id="bulletin_journal_paie_periode_department" >
        <!--<t  t-call = "report.html_container" >-->
            <!--<t  t-foreach = "docs"  t-as= "o" >-->
                <!--<t  t-call = "hr_payroll_ma_legal_reports.external_layout_hr_reports" >-->
            <t t-call="web.html_container">
<!--                <t t-foreach="docs" t-as="o">-->
                    <t t-call="web.external_layout">
                    <div  class= "page" >
                        <t t-foreach="docs.mapped('period_id')" t-as="period">
                            <t t-foreach="docs.mapped('employee_id').mapped('department_id')" t-as="department">
                                <t t-if="len(docs.filtered(lambda re: re.employee_id.matricule and re.period_id.id == period.id and re.employee_id.department_id.id == department.id)) > 0">
                                <p style="page-break-after:always;">
                                        <div align="center">
                                            <h2><strong>Journal de Paie</strong></h2>
                                            <h3>Mois: <span t-field="period.name"/></h3>
                                            <h3>Département: <span t-field="department.name"/></h3>
                                        </div>
                                        <t t-set="total_1" t-value="0"/>
                                        <t t-set="total_2" t-value="0"/>
                                        <t t-set="total_3" t-value="0"/>
                                        <t t-set="total_4" t-value="0"/>
                                        <t t-set="total_5" t-value="0"/>
                                        <t t-set="total_6" t-value="0"/>
                                        <t t-set="total_7" t-value="0"/>
                                        <t t-set="total_8" t-value="0"/>
                                        <t t-set="total_9" t-value="0"/>
                                        <t t-set="total_10" t-value="0"/>
                                        <t t-set="total_11" t-value="0"/>
                                        <t t-set="total_12" t-value="0"/>
                                        <t t-set="total_13" t-value="0"/>
                                        <t t-set="total_14" t-value="0"/>
                                        <t t-set="total_15" t-value="0"/>
                                        <t t-set="total_16" t-value="0"/>
                                        <t t-set="total_17" t-value="0"/>
                                        <t t-set="total_18" t-value="0"/>
                                        <t t-set="total_19" t-value="0"/>
                                        <t t-set="total_20" t-value="0"/>
                                        <t t-set="total_21" t-value="0"/>
                                        <t t-set="total_22" t-value="0"/>
                                        <t t-set="total_23" t-value="0"/>
                                        <t t-set="total_24" t-value="0"/>

                                        <table style="border-collapse: collapse;width:100%" >
                                            <tr height="45">
                                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><b>Matr</b></td>
                                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Nom - Prénom</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Fonction</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Date embauche</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Date naissance</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>N°CNSS</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>NE</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>NCF</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Sal Base</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Ancient</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 0%</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 25%</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 50%</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 100%</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Jrs congés</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Congés payés</b></td>
                                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Net à payer</b></td>
                                            </tr>
                                            <tr height="25">
                                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Primes imposables</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev brut global</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev brut impos</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>CNSS</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>CIMR/ASS/AMO</b></td>
                                                <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev net impos</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>IGR</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Avances</b></td>
                                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Prêt et Ret</b></td>
                                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Primes non impos</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Arrondi</b></td>
                                            </tr>
                                            <t t-foreach= "docs.filtered(lambda re: re.employee_id.matricule and re.period_id.id == period.id and re.employee_id.department_id.id == department.id).sorted(key=lambda r: r.employee_id.matricule)"  t-as= "b">
                                            <tr height="45">
                                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.matricule"/></td>
                                                <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><span t-field="b.employee_id.prenom"/> <span t-field="b.employee_id.name"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.job_id.name"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.date"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.birthday"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.ssnid"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.children"/><t t-set="total_1" t-value="total_1+b.employee_id.children"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.chargefam"/><t t-set="total_2" t-value="total_2+b.employee_id.chargefam"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_base_mois"/><t t-set="total_3" t-value="total_3+b.salaire_base_mois"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime_anciennete"/><t t-set="total_4" t-value="total_4+b.prime_anciennete"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_25"/><t t-set="total_5" t-value="total_5+b.hsup_25"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_50"/><t t-set="total_6" t-value="total_6+b.hsup_50"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_100"/><t t-set="total_7" t-value="total_7+b.hsup_100"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.jrs_conges"/><t t-set="total_8" t-value="total_8+b.jrs_conges"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.conges_payes"/><t t-set="total_9" t-value="total_9+b.conges_payes"/></td>
                                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_a_payer"/><t t-set="total_19" t-value="total_19+b.salaire_net_a_payer"/></td>
                                            </tr>
                                            <tr height="25">
                                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime"/><t t-set="total_10" t-value="total_10+b.prime"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute"/><t t-set="total_11" t-value="total_11+b.salaire_brute"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute_imposable"/><t t-set="total_12" t-value="total_12+b.salaire_brute_imposable"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cnss"/><t t-set="total_13" t-value="total_13+b.cnss"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cimr_assurance_amo"/><t t-set="total_14" t-value="total_14+b.cimr_assurance_amo"/></td>
                                                <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_imposable"/><t t-set="total_15" t-value="total_15+b.salaire_net_imposable"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.igr"/><t t-set="total_16" t-value="total_16+b.igr"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.exoneration"/><t t-set="total_17" t-value="total_17+b.exoneration"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.arrondi"/><t t-set="total_18" t-value="total_18+b.arrondi"/></td>

                                            </tr>
                                            </t>
                                            <t t-foreach= "docs.filtered(lambda re: not re.employee_id.matricule and re.period_id.id == period.id and re.employee_id.department_id.id == department.id)"  t-as= "b">
                                            <tr height="45">
                                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.matricule"/></td>
                                                <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><span t-field="b.employee_id.name"/> <span t-field="b.employee_id.prenom"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.job_id.name"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.date"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.birthday"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.ssnid"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.children"/><t t-set="total_1" t-value="total_1+b.employee_id.children"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.chargefam"/><t t-set="total_2" t-value="total_2+b.employee_id.chargefam"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_base_mois"/><t t-set="total_3" t-value="total_3+b.salaire_base_mois"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime_anciennete"/><t t-set="total_4" t-value="total_4+b.prime_anciennete"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_25"/><t t-set="total_5" t-value="total_5+b.hsup_25"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_50"/><t t-set="total_6" t-value="total_6+b.hsup_50"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_100"/><t t-set="total_7" t-value="total_7+b.hsup_100"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.jrs_conges"/><t t-set="total_8" t-value="total_8+b.jrs_conges"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.conges_payes"/><t t-set="total_9" t-value="total_9+b.conges_payes"/></td>
                                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_a_payer"/><t t-set="total_19" t-value="total_19+b.salaire_net_a_payer"/></td>
                                            </tr>
                                            <tr height="25">
                                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime"/><t t-set="total_10" t-value="total_10+b.prime"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute"/><t t-set="total_11" t-value="total_11+b.salaire_brute"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute_imposable"/><t t-set="total_12" t-value="total_12+b.salaire_brute_imposable"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cnss"/><t t-set="total_13" t-value="total_13+b.cnss"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cimr_assurance_amo"/><t t-set="total_14" t-value="total_14+b.cimr_assurance_amo"/></td>
                                                <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_imposable"/><t t-set="total_15" t-value="total_15+b.salaire_net_imposable"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.igr"/><t t-set="total_16" t-value="total_16+b.igr"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.exoneration"/><t t-set="total_17" t-value="total_17+b.exoneration"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.arrondi"/><t t-set="total_18" t-value="total_18+b.arrondi"/></td>

                                            </tr>
                                            </t>
                                        <tr height="25">
                                            <td colspan="18" style=""></td>
                                        </tr>
                                        <tr height="45">
                                                <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><b>TOTAL</b></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_1"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_2"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_3"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_4"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_5"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_6"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_7"/></td>
                                                 <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_8"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_9"/></td>
                                            </tr>
                                            <tr height="25">
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_10"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_11"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_12"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_13"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_14"/></td>
                                                <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_15"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_16"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                                                <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_17"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_18"/></td>
                                                <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_19"/></td>
                                            </tr>
                                         </table>
                                    </p>
                                </t>
                            </t>
                        </t>
                   </div>
                  </t>
<!--               </t>-->
            </t>
        </template>

        <record id="journal_paie_bulletin_report_id_periode_department" model="ir.actions.report">
            <field name="name">Journal de paie par période/département</field>
            <field name="model">hr.payroll_ma.bulletin</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">kzm_payroll_ma.bulletin_journal_paie_periode_department</field>
            <field name="report_file">Journal de paie</field>
            <field name="binding_model_id" ref="model_hr_payroll_ma_bulletin"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="bulletin_report_reports_rh_paperformat"/>
        </record>
    </data>
</odoo>
